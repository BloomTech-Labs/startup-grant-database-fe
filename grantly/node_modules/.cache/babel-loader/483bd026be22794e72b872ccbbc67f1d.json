{"ast":null,"code":"import { useCallback } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { GrantTypes } from \"./grantTypes\";\nimport { FilterTypes } from \"../filters/filterTypes\";\nimport { axiosWithOutAuth as axios } from \"../utils/axiosConfig\";\nexport const useGrantActions = () => {\n  const dispatch = useDispatch();\n  const fetchGrants = useCallback(() => {\n    dispatch({\n      type: GrantTypes.FETCH_GRANTS_START\n    }); // @ts-ignore\n\n    axios().get(`/grants`).then(res => {\n      dispatch({\n        type: GrantTypes.FETCH_GRANTS_SUCCESS,\n        payload: res.data\n      });\n      dispatch({\n        type: FilterTypes.FILTER_GRANT,\n        payload: res.data\n      });\n    }).catch(err => {\n      const data = err && err.response && err.response.data ? err.response.data : err;\n      dispatch({\n        type: GrantTypes.FETCH_GRANTS_FAILURE,\n        payload: data\n      });\n    });\n  }, [dispatch]);\n  const selectGrant = useCallback(grant => {\n    dispatch({\n      type: GrantTypes.SELECT_GRANT,\n      payload: grant\n    });\n  }, [dispatch]);\n  const addGrant = useCallback((data, history) => {\n    dispatch({\n      type: GrantTypes.POST_GRANTS_START\n    });\n    axios().post(\"/grants\", data).then(res => {\n      dispatch({\n        type: GrantTypes.POST_GRANTS_SUCCESS,\n        payload: res.data\n      });\n    }).catch(err => {\n      const data = err && err.response && err.response.data ? err.response.data : err;\n      dispatch({\n        type: GrantTypes.POST_GRANTS_FAILURE,\n        payload: data\n      });\n    });\n  });\n  return {\n    fetchGrants,\n    selectGrant\n  };\n};","map":{"version":3,"sources":["/Users/jacksonmccomas/Documents/Lambda/labs/startup-grant-database-fe/grantly/src/store/grants/useGrantActions.tsx"],"names":["useCallback","useDispatch","GrantTypes","FilterTypes","axiosWithOutAuth","axios","useGrantActions","dispatch","fetchGrants","type","FETCH_GRANTS_START","get","then","res","FETCH_GRANTS_SUCCESS","payload","data","FILTER_GRANT","catch","err","response","FETCH_GRANTS_FAILURE","selectGrant","grant","SELECT_GRANT","addGrant","history","POST_GRANTS_START","post","POST_GRANTS_SUCCESS","POST_GRANTS_FAILURE"],"mappings":"AAAA,SAASA,WAAT,QAA4B,OAA5B;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,SAAgBC,UAAhB,QAAkC,cAAlC;AACA,SAASC,WAAT,QAA4B,wBAA5B;AACA,SAASC,gBAAgB,IAAIC,KAA7B,QAA0C,sBAA1C;AAEA,OAAO,MAAMC,eAAe,GAAG,MAAM;AACnC,QAAMC,QAAQ,GAAGN,WAAW,EAA5B;AAEA,QAAMO,WAAW,GAAGR,WAAW,CAAC,MAAM;AACpCO,IAAAA,QAAQ,CAAC;AAAEE,MAAAA,IAAI,EAAEP,UAAU,CAACQ;AAAnB,KAAD,CAAR,CADoC,CAEpC;;AACAL,IAAAA,KAAK,GACFM,GADH,CACQ,SADR,EAEGC,IAFH,CAESC,GAAD,IAAwB;AAC5BN,MAAAA,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAEP,UAAU,CAACY,oBAAnB;AAAyCC,QAAAA,OAAO,EAAEF,GAAG,CAACG;AAAtD,OAAD,CAAR;AACAT,MAAAA,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAEN,WAAW,CAACc,YAApB;AAAkCF,QAAAA,OAAO,EAAEF,GAAG,CAACG;AAA/C,OAAD,CAAR;AACD,KALH,EAMGE,KANH,CAMUC,GAAD,IAAqB;AAC1B,YAAMH,IAAI,GACRG,GAAG,IAAIA,GAAG,CAACC,QAAX,IAAuBD,GAAG,CAACC,QAAJ,CAAaJ,IAApC,GAA2CG,GAAG,CAACC,QAAJ,CAAaJ,IAAxD,GAA+DG,GADjE;AAEAZ,MAAAA,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAEP,UAAU,CAACmB,oBAAnB;AAAyCN,QAAAA,OAAO,EAAEC;AAAlD,OAAD,CAAR;AACD,KAVH;AAWD,GAd8B,EAc5B,CAACT,QAAD,CAd4B,CAA/B;AAgBA,QAAMe,WAAW,GAAGtB,WAAW,CAC5BuB,KAAD,IAAkB;AAChBhB,IAAAA,QAAQ,CAAC;AAAEE,MAAAA,IAAI,EAAEP,UAAU,CAACsB,YAAnB;AAAiCT,MAAAA,OAAO,EAAEQ;AAA1C,KAAD,CAAR;AACD,GAH4B,EAI7B,CAAChB,QAAD,CAJ6B,CAA/B;AAOA,QAAMkB,QAAQ,GAAGzB,WAAW,CAAC,CAACgB,IAAD,EAAOU,OAAP,KAAmB;AAC9CnB,IAAAA,QAAQ,CAAC;AAAEE,MAAAA,IAAI,EAAEP,UAAU,CAACyB;AAAnB,KAAD,CAAR;AACAtB,IAAAA,KAAK,GACFuB,IADH,CACQ,SADR,EACmBZ,IADnB,EAEGJ,IAFH,CAESC,GAAD,IAAwB;AAC5BN,MAAAA,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAEP,UAAU,CAAC2B,mBAAnB;AAAwCd,QAAAA,OAAO,EAAEF,GAAG,CAACG;AAArD,OAAD,CAAR;AACD,KAJH,EAKGE,KALH,CAKUC,GAAD,IAAqB;AAC1B,YAAMH,IAAI,GACRG,GAAG,IAAIA,GAAG,CAACC,QAAX,IAAuBD,GAAG,CAACC,QAAJ,CAAaJ,IAApC,GAA2CG,GAAG,CAACC,QAAJ,CAAaJ,IAAxD,GAA+DG,GADjE;AAEAZ,MAAAA,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAEP,UAAU,CAAC4B,mBAAnB;AAAwCf,QAAAA,OAAO,EAAEC;AAAjD,OAAD,CAAR;AACD,KATH;AAUD,GAZ2B,CAA5B;AAcA,SAAO;AAAER,IAAAA,WAAF;AAAec,IAAAA;AAAf,GAAP;AACD,CAzCM","sourcesContent":["import { useCallback } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { AxiosError, AxiosResponse } from \"axios\";\nimport { Grant, GrantTypes } from \"./grantTypes\";\nimport { FilterTypes } from \"../filters/filterTypes\";\nimport { axiosWithOutAuth as axios } from \"../utils/axiosConfig\";\n\nexport const useGrantActions = () => {\n  const dispatch = useDispatch();\n\n  const fetchGrants = useCallback(() => {\n    dispatch({ type: GrantTypes.FETCH_GRANTS_START });\n    // @ts-ignore\n    axios()\n      .get(`/grants`)\n      .then((res: AxiosResponse) => {\n        dispatch({ type: GrantTypes.FETCH_GRANTS_SUCCESS, payload: res.data });\n        dispatch({ type: FilterTypes.FILTER_GRANT, payload: res.data });\n      })\n      .catch((err: AxiosError) => {\n        const data =\n          err && err.response && err.response.data ? err.response.data : err;\n        dispatch({ type: GrantTypes.FETCH_GRANTS_FAILURE, payload: data });\n      });\n  }, [dispatch]);\n\n  const selectGrant = useCallback(\n    (grant: Grant) => {\n      dispatch({ type: GrantTypes.SELECT_GRANT, payload: grant });\n    },\n    [dispatch]\n  );\n\n  const addGrant = useCallback((data, history) => {\n    dispatch({ type: GrantTypes.POST_GRANTS_START });\n    axios()\n      .post(\"/grants\", data)\n      .then((res: AxiosResponse) => {\n        dispatch({ type: GrantTypes.POST_GRANTS_SUCCESS, payload: res.data });\n      })\n      .catch((err: AxiosError) => {\n        const data =\n          err && err.response && err.response.data ? err.response.data : err;\n        dispatch({ type: GrantTypes.POST_GRANTS_FAILURE, payload: data });\n      });\n  });\n\n  return { fetchGrants, selectGrant };\n};\n\nexport interface UseGrantActions {\n  fetchGrants: () => void;\n  selectGrant: (grant: Grant) => void;\n}\n"]},"metadata":{},"sourceType":"module"}