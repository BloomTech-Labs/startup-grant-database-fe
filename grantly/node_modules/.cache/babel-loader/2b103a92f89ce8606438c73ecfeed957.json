{"ast":null,"code":"var _jsxFileName = \"/Users/jacksonmccomas/Documents/Lambda/labs/startup-grant-database-fe/grantly/src/components/navbar/Navbar.jsx\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { AppBar, Button, IconButton, Link, SwipeableDrawer, Toolbar, Typography } from \"@material-ui/core\";\nimport { NavLink as RouterLink } from \"react-router-dom\";\nimport { useAuth0 } from \"../auth0/Auth0Wrapper\";\nimport FGLogo from \"../../assets/FGLogo\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport SideMenu from \"./SideMenu\";\nimport { useSelector } from \"react-redux\";\nimport { ActionsContext } from \"../../context/ActionsContext\";\nimport { useGetToken } from \"../auth0/useGetToken\";\nimport { logger } from \"../../store/utils/logger\";\nconst useStyles = makeStyles(theme => ({\n  navBar: {\n    background: \"#fff\",\n    flexGrow: 1,\n    boxShadow: \"0 2px 6px rgba(0, 0, 0, 0.15)\",\n    [theme.breakpoints.down(\"xs\")]: {\n      position: \"fixed\",\n      padding: \"0\"\n    }\n  },\n  title: {\n    fontSize: \"2.125rem\",\n    textAlign: \"left\",\n    color: \"#000\",\n    [theme.breakpoints.down(\"xs\")]: {\n      fontSize: \"1.5rem\",\n      marginLeft: \"5px\"\n    }\n  },\n  helloUser: {\n    fontFamily: \"Nunito Sans\",\n    padding: \"15px\"\n  },\n  menu: {\n    width: \"2.5em\",\n    height: \"2em\",\n    padding: \"0\"\n  },\n  navLink: {\n    color: \"#3CBBB1\",\n    textTransform: \"uppercase\",\n    fontSize: \"0.875rem\",\n    fontFamily: \"Roboto\",\n    \"&:hover\": {\n      textDecoration: \"underline\"\n    }\n  },\n  navButton: {\n    marginRight: theme.spacing(3),\n    alignSelf: \"baseline\",\n    border: \"1px solid #3CBBB1\",\n    borderRadius: \"2px\",\n    backgroundColor: \"#3CBBB1\",\n    color: \"white\",\n    textTransform: \"uppercase\",\n    padding: \".5em 2.2em\",\n    fontSize: \"0.875rem\",\n    fontFamily: \"Roboto\",\n    transition: \"all .3s ease-in-out\",\n    \"&:hover\": {\n      backgroundColor: \"#83D7D1\",\n      color: \"white\"\n    }\n  },\n  toolBar: {\n    backgroundColor: \"white\"\n  },\n  titleLink: {\n    flexGrow: 1,\n    textDecoration: \"none\"\n  },\n  linkContainer: {\n    maxWidth: \"600px\",\n    width: \"100%\",\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\"\n  }\n}));\nconst menuItems = [{\n  url: \"/grants\",\n  title: \"Grants\"\n}, {\n  url: \"/about\",\n  title: \"About\"\n}];\n\nconst Navbar = () => {\n  const actions = useContext(ActionsContext);\n  const [isOpen, setIsOpen] = useState(false);\n  const {\n    currentUser\n  } = useSelector(state => state.user);\n  const [token] = useGetToken();\n\n  const toggleDrawer = open => event => {\n    if (event && event.type === \"keydown\" && (event.key === \"Tab\" || event.key === \"Shift\")) {\n      return;\n    }\n\n    setIsOpen(!isOpen);\n  };\n\n  const {\n    isAuthenticated,\n    user,\n    loginWithRedirect,\n    loading\n  } = useAuth0();\n  const classes = useStyles();\n  useEffect(() => {\n    if (isAuthenticated && user) {\n      actions.user.setUserFromAuth0(user);\n    } else {\n      actions.user.resetUser();\n    }\n  }, [isAuthenticated, user]);\n  useEffect(() => {\n    if (isAuthenticated && currentUser[\"https://founder-grants.com/appdata\"]) {\n      if (currentUser[\"https://founder-grants.com/appdata\"].authorization.roles.find(() => \"Moderator\") === \"Moderator\") {\n        actions.user.isModerator();\n      }\n    }\n  }, [currentUser]);\n  useEffect(() => {\n    if (token && isAuthenticated && user) {\n      actions.user.setToken(token); // actions.user.getFavorites(token, user.sub);\n\n      logger(\"user\", user.email);\n      actions.user.getUserFromPG(token, user.email);\n    }\n  }, [token]); //   console.log(\"user action logged\", actions.user.setUserFromAuth0(user));\n\n  return React.createElement(AppBar, {\n    className: classes.navBar,\n    color: \"primary\",\n    position: \"sticky\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, React.createElement(Toolbar, {\n    className: classes.toolBar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"h4\",\n    className: classes.titleLink,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, React.createElement(Link, {\n    component: RouterLink,\n    to: \"/\",\n    className: classes.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(FGLogo, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }))), isAuthenticated ? React.createElement(React.Fragment, null, React.createElement(Typography, {\n    variant: \"h6\",\n    component: \"h1\",\n    className: classes.helloUser,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, `Welcome, ${currentUser.nickname}`), React.createElement(IconButton, {\n    edge: \"start\",\n    color: \"primary\",\n    \"aria-label\": \"menu\",\n    onClick: toggleDrawer(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, React.createElement(MenuIcon, {\n    className: classes.menu,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }))) : React.createElement(\"div\", {\n    className: classes.linkContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, menuItems.map(({\n    title,\n    url\n  }) => React.createElement(Link, {\n    key: title,\n    component: RouterLink,\n    to: url,\n    className: classes.navLink,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, title)), React.createElement(Button, {\n    className: classes.navButton,\n    color: \"primary\",\n    onClick: () => loginWithRedirect(),\n    disabled: loading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, loading ? `Please Wait` : `Log in`)), React.createElement(SwipeableDrawer, {\n    anchor: \"right\",\n    onClose: toggleDrawer(false),\n    onOpen: toggleDrawer(true),\n    open: isOpen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, React.createElement(SideMenu, {\n    toggleDrawer: toggleDrawer,\n    side: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  }))));\n};\n\nexport default Navbar;","map":{"version":3,"sources":["/Users/jacksonmccomas/Documents/Lambda/labs/startup-grant-database-fe/grantly/src/components/navbar/Navbar.jsx"],"names":["React","useContext","useEffect","useState","makeStyles","AppBar","Button","IconButton","Link","SwipeableDrawer","Toolbar","Typography","NavLink","RouterLink","useAuth0","FGLogo","MenuIcon","SideMenu","useSelector","ActionsContext","useGetToken","logger","useStyles","theme","navBar","background","flexGrow","boxShadow","breakpoints","down","position","padding","title","fontSize","textAlign","color","marginLeft","helloUser","fontFamily","menu","width","height","navLink","textTransform","textDecoration","navButton","marginRight","spacing","alignSelf","border","borderRadius","backgroundColor","transition","toolBar","titleLink","linkContainer","maxWidth","display","justifyContent","alignItems","menuItems","url","Navbar","actions","isOpen","setIsOpen","currentUser","state","user","token","toggleDrawer","open","event","type","key","isAuthenticated","loginWithRedirect","loading","classes","setUserFromAuth0","resetUser","authorization","roles","find","isModerator","setToken","email","getUserFromPG","nickname","map"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  AppBar,\n  Button,\n  IconButton,\n  Link,\n  SwipeableDrawer,\n  Toolbar,\n  Typography\n} from \"@material-ui/core\";\nimport { NavLink as RouterLink } from \"react-router-dom\";\nimport { useAuth0 } from \"../auth0/Auth0Wrapper\";\nimport FGLogo from \"../../assets/FGLogo\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport SideMenu from \"./SideMenu\";\nimport { useSelector } from \"react-redux\";\nimport { ActionsContext } from \"../../context/ActionsContext\";\nimport { useGetToken } from \"../auth0/useGetToken\";\nimport {logger} from \"../../store/utils/logger\";\n\nconst useStyles = makeStyles(theme => ({\n  navBar: {\n    background: \"#fff\",\n    flexGrow: 1,\n    boxShadow: \"0 2px 6px rgba(0, 0, 0, 0.15)\",\n    [theme.breakpoints.down(\"xs\")]: {\n      position: \"fixed\",\n      padding: \"0\"\n    }\n  },\n  title: {\n    fontSize: \"2.125rem\",\n    textAlign: \"left\",\n    color: \"#000\",\n    [theme.breakpoints.down(\"xs\")]: {\n      fontSize: \"1.5rem\",\n      marginLeft: \"5px\"\n    }\n  },\n  helloUser: {\n    fontFamily: \"Nunito Sans\",\n    padding: \"15px\"\n  },\n  menu: {\n    width: \"2.5em\",\n    height: \"2em\",\n    padding: \"0\"\n  },\n  navLink: {\n    color: \"#3CBBB1\",\n    textTransform: \"uppercase\",\n    fontSize: \"0.875rem\",\n    fontFamily: \"Roboto\",\n    \"&:hover\": {\n      textDecoration: \"underline\"\n    }\n  },\n  navButton: {\n    marginRight: theme.spacing(3),\n    alignSelf: \"baseline\",\n    border: \"1px solid #3CBBB1\",\n    borderRadius: \"2px\",\n    backgroundColor: \"#3CBBB1\",\n    color: \"white\",\n    textTransform: \"uppercase\",\n    padding: \".5em 2.2em\",\n    fontSize: \"0.875rem\",\n    fontFamily: \"Roboto\",\n    transition: \"all .3s ease-in-out\",\n    \"&:hover\": {\n      backgroundColor: \"#83D7D1\",\n      color: \"white\"\n    }\n  },\n  toolBar: {\n    backgroundColor: \"white\"\n  },\n  titleLink: {\n    flexGrow: 1,\n    textDecoration: \"none\"\n  },\n  linkContainer: {\n    maxWidth: \"600px\",\n    width: \"100%\",\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\"\n  }\n}));\n\nconst menuItems = [\n  {\n    url: \"/grants\",\n    title: \"Grants\"\n  },\n  {\n    url: \"/about\",\n    title: \"About\"\n  }\n];\n\nconst Navbar = () => {\n  const actions = useContext(ActionsContext);\n  const [isOpen, setIsOpen] = useState(false);\n  const { currentUser } = useSelector(state => state.user);\n  const [token] = useGetToken();\n  const toggleDrawer = open => event => {\n    if (\n      event &&\n      event.type === \"keydown\" &&\n      (event.key === \"Tab\" || event.key === \"Shift\")\n    ) {\n      return;\n    }\n    setIsOpen(!isOpen);\n  };\n  const { isAuthenticated, user, loginWithRedirect, loading } = useAuth0();\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    if (isAuthenticated && user) {\n      actions.user.setUserFromAuth0(user);\n    } else {\n      actions.user.resetUser();\n    }\n  }, [isAuthenticated, user]);\n\n  useEffect(() => {\n    if (isAuthenticated && currentUser[\"https://founder-grants.com/appdata\"]) {\n      if (\n        currentUser[\n          \"https://founder-grants.com/appdata\"\n        ].authorization.roles.find(() => \"Moderator\") === \"Moderator\"\n      ) {\n        actions.user.isModerator();\n      }\n    }\n  }, [currentUser]);\n\n  useEffect(() => {\n    if (token && isAuthenticated && user) {\n      actions.user.setToken(token);\n      // actions.user.getFavorites(token, user.sub);\n      logger(\"user\", user.email);\n      actions.user.getUserFromPG(token, user.email);\n    }\n  }, [token]);\n  //   console.log(\"user action logged\", actions.user.setUserFromAuth0(user));\n  return (\n    <AppBar className={classes.navBar} color=\"primary\" position=\"sticky\">\n      <Toolbar className={classes.toolBar}>\n        <Typography variant=\"h4\" className={classes.titleLink}>\n          <Link component={RouterLink} to=\"/\" className={classes.title}>\n            <FGLogo />\n          </Link>\n        </Typography>\n        {isAuthenticated ? (\n          <>\n            <Typography\n              variant=\"h6\"\n              component=\"h1\"\n              className={classes.helloUser}\n            >\n              {`Welcome, ${currentUser.nickname}`}\n            </Typography>\n            <IconButton\n              edge=\"start\"\n              color=\"primary\"\n              aria-label=\"menu\"\n              onClick={toggleDrawer()}\n            >\n              <MenuIcon className={classes.menu} />\n            </IconButton>\n          </>\n        ) : (\n          <div className={classes.linkContainer}>\n            {menuItems.map(({ title, url }) => (\n              <Link\n                key={title}\n                component={RouterLink}\n                to={url}\n                className={classes.navLink}\n              >\n                {title}\n              </Link>\n            ))}\n            <Button\n              className={classes.navButton}\n              color=\"primary\"\n              onClick={() => loginWithRedirect()}\n              disabled={loading}\n            >\n              {loading ? `Please Wait` : `Log in`}\n            </Button>\n          </div>\n        )}\n        <SwipeableDrawer\n          anchor=\"right\"\n          onClose={toggleDrawer(false)}\n          onOpen={toggleDrawer(true)}\n          open={isOpen}\n        >\n          <SideMenu toggleDrawer={toggleDrawer} side=\"right\" />\n        </SwipeableDrawer>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default Navbar;\n"]},"metadata":{},"sourceType":"module"}