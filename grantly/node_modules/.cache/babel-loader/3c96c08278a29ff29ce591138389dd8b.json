{"ast":null,"code":"var _jsxFileName = \"/Users/jacksonmccomas/Documents/Lambda/labs/startup-grant-database-fe/grantly/src/components/admin/TableSuggestions.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\"; // import { deleteSuggestion } from \"../../actions\";\n\nimport axios from \"axios\";\nimport { useAuth0 } from \"../auth0/Auth0Wrapper\";\nimport useGetToken from \"../auth/useGetToken\"; // Styling\n\nimport { tableSuggStyles } from \"./styles/tableSuggStyles\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ArrowDropDownIcon from \"@material-ui/icons/ArrowDropDown\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\nconst TableSuggestions = props => {\n  // const { isAuthenticated, user, loading } = useAuth0();\n  const [suggestions, setSuggestions] = useState([]);\n  const [open, setOpen] = useState(false); // const [token] = useGetToken();\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  useEffect(() => {\n    const grant_id = props.rowData.id;\n    axios.get(`${process.env.REACT_APP_CLIENT_BASEURL}/admin/suggestions/${grant_id}`, {\n      headers: {// authorization: `Bearer ${token}`\n      }\n    }).then(res => {\n      setSuggestions(res.data); // console.log(\"AXIOS WORKED\", res.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [// token,\n  props.rowData]);\n\n  const onClickDelete = (suggestion_id, token) => {\n    // props.deleteSuggestion(suggestion_id, token);\n    const updatedSuggs = suggestions.filter(sugg => sugg.id !== suggestion_id);\n    setSuggestions(updatedSuggs);\n  };\n\n  const style = tableSuggStyles();\n  return React.createElement(React.Fragment, null, suggestions.length ? React.createElement(Button, {\n    variant: \"outlined\",\n    onClick: handleClickOpen,\n    className: suggestions.length ? style.iconBtnWithSuggestions : style.iconBtnWithOutSuggestions,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, suggestions.length, React.createElement(ArrowDropDownIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  })) : React.createElement(Button, {\n    className: style.iconBtnWithOutSuggestions,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, suggestions.length), React.createElement(Dialog, {\n    open: open,\n    onClose: handleClose,\n    \"aria-labelledby\": \"form-dialog-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(DialogTitle, {\n    variant: \"h5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"User Suggestions\"), React.createElement(DialogContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(DialogContentText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, suggestions.length ? React.createElement(List, {\n    className: style.suggestionUl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, suggestions.map(suggestion => React.createElement(ListItem, {\n    alignItems: \"flex-start\",\n    className: style.suggestionLi,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(IconButton // onClick={() => onClickDelete(suggestion.id, token)}\n  , {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(DeleteIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  })), React.createElement(ListItemText, {\n    primary: React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      varient: \"body1\",\n      color: \"textPrimary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, suggestion.subject)),\n    secondary: React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"body3\",\n      color: \"textPrimary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, suggestion.suggestion)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  })))) : React.createElement(Typography, {\n    variant: \"h1\",\n    className: style.suggestionNone,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, \" \", \"There are no user suggestions at this time\"))), React.createElement(DialogActions, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: handleClose,\n    color: \"secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, \"Cancel\"))));\n};\n\nconst mapStateToProps = state => {\n  // console.log(\"GrantList mapStateToProps state\", state);\n  return {\n    currentUser: state.currentUser\n  };\n};\n\nexport default connect(mapStateToProps, {// deleteSuggestion\n})(TableSuggestions);","map":{"version":3,"sources":["/Users/jacksonmccomas/Documents/Lambda/labs/startup-grant-database-fe/grantly/src/components/admin/TableSuggestions.js"],"names":["React","useEffect","useState","connect","axios","useAuth0","useGetToken","tableSuggStyles","DialogTitle","Dialog","List","ListItem","ListItemText","Typography","Button","DialogActions","DialogContent","DialogContentText","IconButton","ArrowDropDownIcon","DeleteIcon","TableSuggestions","props","suggestions","setSuggestions","open","setOpen","handleClickOpen","handleClose","grant_id","rowData","id","get","process","env","REACT_APP_CLIENT_BASEURL","headers","then","res","data","catch","err","console","log","onClickDelete","suggestion_id","token","updatedSuggs","filter","sugg","style","length","iconBtnWithSuggestions","iconBtnWithOutSuggestions","suggestionUl","map","suggestion","suggestionLi","subject","suggestionNone","mapStateToProps","state","currentUser"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\n// import { deleteSuggestion } from \"../../actions\";\nimport axios from \"axios\";\nimport {useAuth0} from \"../auth0/Auth0Wrapper\";\nimport useGetToken from \"../auth/useGetToken\";\n// Styling\nimport { tableSuggStyles } from \"./styles/tableSuggStyles\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ArrowDropDownIcon from \"@material-ui/icons/ArrowDropDown\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\nconst TableSuggestions = props => {\n  // const { isAuthenticated, user, loading } = useAuth0();\n  const [suggestions, setSuggestions] = useState([]);\n  const [open, setOpen] = useState(false);\n\n  // const [token] = useGetToken();\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  useEffect(() => {\n    const grant_id = props.rowData.id;\n    axios\n      .get(\n        `${process.env.REACT_APP_CLIENT_BASEURL}/admin/suggestions/${grant_id}`,\n        {\n          headers: {\n            // authorization: `Bearer ${token}`\n          }\n        }\n      )\n      .then(res => {\n        setSuggestions(res.data);\n        // console.log(\"AXIOS WORKED\", res.data);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }, [\n    \n    // token,\n    \n    props.rowData]);\n\n  const onClickDelete = (suggestion_id, token) => {\n    // props.deleteSuggestion(suggestion_id, token);\n    const updatedSuggs = suggestions.filter(sugg => sugg.id !== suggestion_id);\n    setSuggestions(updatedSuggs);\n  };\n\n  const style = tableSuggStyles();\n\n  return (\n    <>\n      {suggestions.length ? (\n        <Button\n          variant=\"outlined\"\n          onClick={handleClickOpen}\n          className={\n            suggestions.length\n              ? style.iconBtnWithSuggestions\n              : style.iconBtnWithOutSuggestions\n          }\n        >\n          {suggestions.length}\n          <ArrowDropDownIcon />\n        </Button>\n      ) : (\n        <Button className={style.iconBtnWithOutSuggestions}>\n          {suggestions.length}\n        </Button>\n      )}\n\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle variant=\"h5\">User Suggestions</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            {suggestions.length ? (\n              <List className={style.suggestionUl}>\n                {suggestions.map(suggestion => (\n                  <ListItem\n                    alignItems=\"flex-start\"\n                    className={style.suggestionLi}\n                  >\n                    <IconButton\n                      // onClick={() => onClickDelete(suggestion.id, token)}\n                    >\n                      <DeleteIcon />\n                    </IconButton>\n                    <ListItemText\n                      primary={\n                        <React.Fragment>\n                          <Typography varient=\"body1\" color=\"textPrimary\">\n                            {suggestion.subject}\n                          </Typography>\n                        </React.Fragment>\n                      }\n                      secondary={\n                        <React.Fragment>\n                          <Typography variant=\"body3\" color=\"textPrimary\">\n                            {suggestion.suggestion}\n                          </Typography>\n                        </React.Fragment>\n                      }\n                    />\n                  </ListItem>\n                ))}\n              </List>\n            ) : (\n              <Typography variant=\"h1\" className={style.suggestionNone}>\n                {\" \"}\n                There are no user suggestions at this time\n              </Typography>\n            )}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"secondary\">\n            Cancel\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n};\nconst mapStateToProps = state => {\n  // console.log(\"GrantList mapStateToProps state\", state);\n  return {\n    currentUser: state.currentUser\n  };\n};\n\nexport default connect(mapStateToProps, { \n\n// deleteSuggestion\n\n})(TableSuggestions);\n"]},"metadata":{},"sourceType":"module"}