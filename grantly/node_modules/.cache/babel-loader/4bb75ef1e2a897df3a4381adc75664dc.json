{"ast":null,"code":"import { useCallback } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { GrantTypes } from \"./grantTypes\";\nimport { FilterTypes } from \"../filters/filterTypes\";\nimport { axiosWithAuth, axiosWithOutAuth as axios } from \"../utils/axiosConfig\";\nexport const useGrantActions = () => {\n  const dispatch = useDispatch();\n  const fetchGrants = useCallback(() => {\n    dispatch({\n      type: GrantTypes.FETCH_GRANTS_START\n    }); // @ts-ignore\n\n    axios().get(`/grants`).then(res => {\n      dispatch({\n        type: GrantTypes.FETCH_GRANTS_SUCCESS,\n        payload: res.data\n      });\n      dispatch({\n        type: FilterTypes.FILTER_GRANT,\n        payload: res.data\n      });\n    }).catch(err => {\n      const data = err && err.response && err.response.data ? err.response.data : err;\n      dispatch({\n        type: GrantTypes.FETCH_GRANTS_FAILURE,\n        payload: data\n      });\n    });\n  }, [dispatch]);\n  const selectGrant = useCallback(grant => {\n    dispatch({\n      type: GrantTypes.SELECT_GRANT,\n      payload: grant\n    });\n  }, [dispatch]);\n  const postGrant = useCallback((data, token) => {\n    dispatch({\n      type: GrantTypes.POST_GRANTS_START,\n      payload: data\n    });\n    axiosWithAuth(token).post(\"/grants\", data).then(res => {\n      dispatch({\n        type: GrantTypes.POST_GRANTS_SUCCESS,\n        payload: res.data\n      });\n    }).catch(err => {\n      const data = err && err.response && err.response.data ? err.response.data : err;\n      dispatch({\n        type: GrantTypes.POST_GRANTS_FAILURE,\n        payload: data\n      });\n    });\n  }, [dispatch]);\n  const fetchAdminGrants = useCallback(token => {\n    dispatch({\n      type: GrantTypes.FETCH_ADMIN_GRANTS_START\n    }); // @ts-ignore\n\n    axiosWithAuth(token).get(`/admin`).then(res => {\n      dispatch({\n        type: GrantTypes.FETCH_ADMIN_GRANTS_SUCCESS,\n        payload: res.data\n      });\n    }).catch(err => {\n      console.log(err.response);\n      const data = err && err.response && err.response.data ? err.response.data : err;\n      dispatch({\n        type: GrantTypes.FETCH_ADMIN_GRANTS_FAILURE,\n        payload: data\n      });\n    });\n  }, [dispatch]);\n  const updateAdminGrant = useCallback((token, id, data) => {\n    dispatch({\n      type: GrantTypes.UPDATE_ADMIN_GRANTS_START,\n      payload: true\n    });\n    axiosWithAuth(token).put(`/admin/${id}`, data).then(res => {\n      dispatch({\n        type: GrantTypes.UPDATE_ADMIN_GRANTS_SUCCESS,\n        payload: res.data\n      });\n    }).catch(err => {\n      const data = err && err.response && err.response.data ? err.response.data : err;\n      dispatch({\n        type: GrantTypes.UPDATE_ADMIN_GRANTS_FAILURE,\n        payload: data\n      });\n    });\n  }, [dispatch]);\n  const deleteAdminGrant = useCallback((token, id) => {\n    dispatch({\n      type: GrantTypes.DELETE_ADMIN_GRANTS_START\n    });\n    axiosWithAuth(token).put(`/admin/${id}`).then(res => {\n      dispatch({\n        type: GrantTypes.DELETE_ADMIN_GRANTS_SUCCESS\n      });\n    }).catch(err => {\n      const data = err && err.response && err.response.data ? err.response.data : err;\n      dispatch({\n        type: GrantTypes.DELETE_ADMIN_GRANTS_FAILURE,\n        payload: data\n      });\n    });\n  }, [dispatch]);\n  const selectAdminGrant = useCallback((token, id) => {\n    dispatch({\n      type: GrantTypes.SELECT_ADMIN_GRANTS_START\n    });\n    axiosWithAuth(token).get(`/admin/${id}`).then(res => {\n      dispatch({\n        type: GrantTypes.SELECT_ADMIN_GRANTS_SUCCESS\n      });\n    }).catch(err => {\n      const data = err && err.response && err.response.data ? err.response.data : err;\n      dispatch({\n        type: GrantTypes.SELECT_ADMIN_GRANTS_FAILURE,\n        payload: data\n      });\n    });\n  }, [dispatch]);\n  return {\n    fetchGrants,\n    selectGrant,\n    postGrant,\n    fetchAdminGrants,\n    deleteAdminGrant,\n    updateAdminGrant,\n    selectAdminGrant\n  };\n};","map":{"version":3,"sources":["/Users/jacksonmccomas/Documents/Lambda/labs/startup-grant-database-fe/grantly/src/store/grants/useGrantActions.tsx"],"names":["useCallback","useDispatch","GrantTypes","FilterTypes","axiosWithAuth","axiosWithOutAuth","axios","useGrantActions","dispatch","fetchGrants","type","FETCH_GRANTS_START","get","then","res","FETCH_GRANTS_SUCCESS","payload","data","FILTER_GRANT","catch","err","response","FETCH_GRANTS_FAILURE","selectGrant","grant","SELECT_GRANT","postGrant","token","POST_GRANTS_START","post","POST_GRANTS_SUCCESS","POST_GRANTS_FAILURE","fetchAdminGrants","FETCH_ADMIN_GRANTS_START","FETCH_ADMIN_GRANTS_SUCCESS","console","log","FETCH_ADMIN_GRANTS_FAILURE","updateAdminGrant","id","UPDATE_ADMIN_GRANTS_START","put","UPDATE_ADMIN_GRANTS_SUCCESS","UPDATE_ADMIN_GRANTS_FAILURE","deleteAdminGrant","DELETE_ADMIN_GRANTS_START","DELETE_ADMIN_GRANTS_SUCCESS","DELETE_ADMIN_GRANTS_FAILURE","selectAdminGrant","SELECT_ADMIN_GRANTS_START","SELECT_ADMIN_GRANTS_SUCCESS","SELECT_ADMIN_GRANTS_FAILURE"],"mappings":"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","sourcesContent":["import { useCallback } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { AxiosError, AxiosResponse } from \"axios\";\nimport { Grant, GrantTypes } from \"./grantTypes\";\nimport { FilterTypes } from \"../filters/filterTypes\";\nimport { axiosWithAuth, axiosWithOutAuth as axios } from \"../utils/axiosConfig\";\n\nexport const useGrantActions = () => {\n  const dispatch = useDispatch();\n\n  const fetchGrants = useCallback(() => {\n    dispatch({ type: GrantTypes.FETCH_GRANTS_START });\n    // @ts-ignore\n    axios()\n      .get(`/grants`)\n      .then((res: AxiosResponse) => {\n        dispatch({ type: GrantTypes.FETCH_GRANTS_SUCCESS, payload: res.data });\n        dispatch({ type: FilterTypes.FILTER_GRANT, payload: res.data });\n      })\n      .catch((err: AxiosError) => {\n        const data =\n          err && err.response && err.response.data ? err.response.data : err;\n        dispatch({ type: GrantTypes.FETCH_GRANTS_FAILURE, payload: data });\n      });\n  }, [dispatch]);\n\n  const selectGrant = useCallback(\n    (grant: Grant) => {\n      dispatch({ type: GrantTypes.SELECT_GRANT, payload: grant });\n    },\n    [dispatch]\n  );\n\n  const postGrant = useCallback(\n    (data, token) => {\n      dispatch({ type: GrantTypes.POST_GRANTS_START, payload: data });\n      axiosWithAuth(token)\n        .post(\"/grants\", data)\n        .then((res: AxiosResponse) => {\n          dispatch({ type: GrantTypes.POST_GRANTS_SUCCESS, payload: res.data });\n        })\n        .catch((err: AxiosError) => {\n          const data =\n            err && err.response && err.response.data ? err.response.data : err;\n          dispatch({ type: GrantTypes.POST_GRANTS_FAILURE, payload: data });\n        });\n    },\n    [dispatch]\n  );\n\n  const fetchAdminGrants = useCallback(\n    (token: string) => {\n      dispatch({ type: GrantTypes.FETCH_ADMIN_GRANTS_START });\n      // @ts-ignore\n      axiosWithAuth(token)\n        .get(`/admin`)\n        .then((res: AxiosResponse) => {\n          dispatch({\n            type: GrantTypes.FETCH_ADMIN_GRANTS_SUCCESS,\n            payload: res.data\n          });\n        })\n        .catch((err: AxiosError) => {\n          console.log(err.response);\n          const data =\n            err && err.response && err.response.data ? err.response.data : err;\n          dispatch({\n            type: GrantTypes.FETCH_ADMIN_GRANTS_FAILURE,\n            payload: data\n          });\n        });\n    },\n    [dispatch]\n  );\n\n  const updateAdminGrant = useCallback(\n    (token: string, id: number, data: Grant) => {\n      dispatch({ type: GrantTypes.UPDATE_ADMIN_GRANTS_START, payload: true });\n      axiosWithAuth(token)\n        .put(`/admin/${id}`, data)\n        .then((res: AxiosResponse) => {\n          dispatch({\n            type: GrantTypes.UPDATE_ADMIN_GRANTS_SUCCESS,\n            payload: res.data\n          });\n        })\n        .catch((err: AxiosError) => {\n          const data =\n            err && err.response && err.response.data ? err.response.data : err;\n          dispatch({\n            type: GrantTypes.UPDATE_ADMIN_GRANTS_FAILURE,\n            payload: data\n          });\n        });\n    },\n    [dispatch]\n  );\n\n  const deleteAdminGrant = useCallback(\n    (token: string, id: number) => {\n      dispatch({ type: GrantTypes.DELETE_ADMIN_GRANTS_START });\n      axiosWithAuth(token)\n        .put(`/admin/${id}`)\n        .then((res: AxiosResponse) => {\n          dispatch({ type: GrantTypes.DELETE_ADMIN_GRANTS_SUCCESS });\n        })\n        .catch((err: AxiosError) => {\n          const data =\n            err && err.response && err.response.data ? err.response.data : err;\n          dispatch({\n            type: GrantTypes.DELETE_ADMIN_GRANTS_FAILURE,\n            payload: data\n          });\n        });\n    },\n    [dispatch]\n  );\n\n  const selectAdminGrant = useCallback(\n    (token: string, id: number) => {\n      dispatch({ type: GrantTypes.SELECT_ADMIN_GRANTS_START });\n      axiosWithAuth(token)\n        .get(`/admin/${id}`)\n        .then((res: AxiosResponse) => {\n          dispatch({ type: GrantTypes.SELECT_ADMIN_GRANTS_SUCCESS });\n        })\n        .catch((err: AxiosError) => {\n          const data =\n            err && err.response && err.response.data ? err.response.data : err;\n          dispatch({\n            type: GrantTypes.SELECT_ADMIN_GRANTS_FAILURE,\n            payload: data\n          });\n        });\n    },\n    [dispatch]\n  );\n\n  return {\n    fetchGrants,\n    selectGrant,\n    postGrant,\n    fetchAdminGrants,\n    deleteAdminGrant,\n    updateAdminGrant,\n    selectAdminGrant\n  };\n};\n\nexport interface UseGrantActions {\n  fetchGrants: () => void;\n  selectGrant: (grant: Grant) => void;\n  postGrant: (data: Grant, token: string) => void;\n  fetchAdminGrants: (token: string) => void;\n  selectAdminGrant: (token: string, id: number) => void;\n  deleteAdminGrant: (token: string, id: number) => void;\n  updateAdminGrant: (token: string, id: number, data: Grant) => void;\n}\n"]},"metadata":{},"sourceType":"module"}