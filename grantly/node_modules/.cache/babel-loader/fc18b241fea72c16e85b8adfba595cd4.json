{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nexports.displayName = displayName;\nexports.url = url;\n\nvar _blueimpMd = require('blueimp-md5');\n\nvar _blueimpMd2 = _interopRequireDefault(_blueimpMd);\n\nvar _trim = require('trim');\n\nvar _trim2 = _interopRequireDefault(_trim);\n\nvar _jsonp_utils = require('../utils/jsonp_utils');\n\nvar _jsonp_utils2 = _interopRequireDefault(_jsonp_utils);\n\nvar _email = require('../field/email');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar md5 = _blueimpMd2.default.md5 || _blueimpMd2.default;\n\nfunction normalize(str) {\n  return typeof str === 'string' ? (0, _trim2.default)(str.toLowerCase()) : '';\n}\n\nfunction displayName(email, cb) {\n  email = normalize(email);\n  if (!(0, _email.validateEmail)(email)) return cb({});\n  var url = 'https://secure.gravatar.com/' + md5(email) + '.json';\n\n  _jsonp_utils2.default.get(url, function (error, result) {\n    if (!error && result && result.entry && result.entry[0]) {\n      cb(null, result.entry[0].displayName);\n    } else {\n      cb({});\n    }\n  });\n}\n\nfunction url(email, cb) {\n  email = normalize(email);\n  if (!(0, _email.validateEmail)(email)) return cb({});\n  cb(null, 'https://secure.gravatar.com/avatar/' + md5(email) + '?d=404&s=160');\n}","map":{"version":3,"sources":["/Users/jacksonmccomas/Documents/Lambda/labs/startup-grant-database-fe/grantly/node_modules/auth0-lock/lib/avatar/gravatar_provider.js"],"names":["exports","__esModule","displayName","url","_blueimpMd","require","_blueimpMd2","_interopRequireDefault","_trim","_trim2","_jsonp_utils","_jsonp_utils2","_email","obj","default","md5","normalize","str","toLowerCase","email","cb","validateEmail","get","error","result","entry"],"mappings":"AAAA;;AAEAA,OAAO,CAACC,UAAR,GAAqB,IAArB;AACAD,OAAO,CAACE,WAAR,GAAsBA,WAAtB;AACAF,OAAO,CAACG,GAAR,GAAcA,GAAd;;AAEA,IAAIC,UAAU,GAAGC,OAAO,CAAC,aAAD,CAAxB;;AAEA,IAAIC,WAAW,GAAGC,sBAAsB,CAACH,UAAD,CAAxC;;AAEA,IAAII,KAAK,GAAGH,OAAO,CAAC,MAAD,CAAnB;;AAEA,IAAII,MAAM,GAAGF,sBAAsB,CAACC,KAAD,CAAnC;;AAEA,IAAIE,YAAY,GAAGL,OAAO,CAAC,sBAAD,CAA1B;;AAEA,IAAIM,aAAa,GAAGJ,sBAAsB,CAACG,YAAD,CAA1C;;AAEA,IAAIE,MAAM,GAAGP,OAAO,CAAC,gBAAD,CAApB;;AAEA,SAASE,sBAAT,CAAgCM,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACZ,UAAX,GAAwBY,GAAxB,GAA8B;AAAEC,IAAAA,OAAO,EAAED;AAAX,GAArC;AAAwD;;AAE/F,IAAIE,GAAG,GAAGT,WAAW,CAACQ,OAAZ,CAAoBC,GAApB,IAA2BT,WAAW,CAACQ,OAAjD;;AAEA,SAASE,SAAT,CAAmBC,GAAnB,EAAwB;AACtB,SAAO,OAAOA,GAAP,KAAe,QAAf,GAA0B,CAAC,GAAGR,MAAM,CAACK,OAAX,EAAoBG,GAAG,CAACC,WAAJ,EAApB,CAA1B,GAAmE,EAA1E;AACD;;AAED,SAAShB,WAAT,CAAqBiB,KAArB,EAA4BC,EAA5B,EAAgC;AAC9BD,EAAAA,KAAK,GAAGH,SAAS,CAACG,KAAD,CAAjB;AACA,MAAI,CAAC,CAAC,GAAGP,MAAM,CAACS,aAAX,EAA0BF,KAA1B,CAAL,EAAuC,OAAOC,EAAE,CAAC,EAAD,CAAT;AAEvC,MAAIjB,GAAG,GAAG,iCAAiCY,GAAG,CAACI,KAAD,CAApC,GAA8C,OAAxD;;AACAR,EAAAA,aAAa,CAACG,OAAd,CAAsBQ,GAAtB,CAA0BnB,GAA1B,EAA+B,UAAUoB,KAAV,EAAiBC,MAAjB,EAAyB;AACtD,QAAI,CAACD,KAAD,IAAUC,MAAV,IAAoBA,MAAM,CAACC,KAA3B,IAAoCD,MAAM,CAACC,KAAP,CAAa,CAAb,CAAxC,EAAyD;AACvDL,MAAAA,EAAE,CAAC,IAAD,EAAOI,MAAM,CAACC,KAAP,CAAa,CAAb,EAAgBvB,WAAvB,CAAF;AACD,KAFD,MAEO;AACLkB,MAAAA,EAAE,CAAC,EAAD,CAAF;AACD;AACF,GAND;AAOD;;AAED,SAASjB,GAAT,CAAagB,KAAb,EAAoBC,EAApB,EAAwB;AACtBD,EAAAA,KAAK,GAAGH,SAAS,CAACG,KAAD,CAAjB;AACA,MAAI,CAAC,CAAC,GAAGP,MAAM,CAACS,aAAX,EAA0BF,KAA1B,CAAL,EAAuC,OAAOC,EAAE,CAAC,EAAD,CAAT;AAEvCA,EAAAA,EAAE,CAAC,IAAD,EAAO,wCAAwCL,GAAG,CAACI,KAAD,CAA3C,GAAqD,cAA5D,CAAF;AACD","sourcesContent":["'use strict';\n\nexports.__esModule = true;\nexports.displayName = displayName;\nexports.url = url;\n\nvar _blueimpMd = require('blueimp-md5');\n\nvar _blueimpMd2 = _interopRequireDefault(_blueimpMd);\n\nvar _trim = require('trim');\n\nvar _trim2 = _interopRequireDefault(_trim);\n\nvar _jsonp_utils = require('../utils/jsonp_utils');\n\nvar _jsonp_utils2 = _interopRequireDefault(_jsonp_utils);\n\nvar _email = require('../field/email');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar md5 = _blueimpMd2.default.md5 || _blueimpMd2.default;\n\nfunction normalize(str) {\n  return typeof str === 'string' ? (0, _trim2.default)(str.toLowerCase()) : '';\n}\n\nfunction displayName(email, cb) {\n  email = normalize(email);\n  if (!(0, _email.validateEmail)(email)) return cb({});\n\n  var url = 'https://secure.gravatar.com/' + md5(email) + '.json';\n  _jsonp_utils2.default.get(url, function (error, result) {\n    if (!error && result && result.entry && result.entry[0]) {\n      cb(null, result.entry[0].displayName);\n    } else {\n      cb({});\n    }\n  });\n}\n\nfunction url(email, cb) {\n  email = normalize(email);\n  if (!(0, _email.validateEmail)(email)) return cb({});\n\n  cb(null, 'https://secure.gravatar.com/avatar/' + md5(email) + '?d=404&s=160');\n}\n"]},"metadata":{},"sourceType":"script"}