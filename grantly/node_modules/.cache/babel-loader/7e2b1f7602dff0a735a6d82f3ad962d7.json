{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nexports.validateEmail = validateEmail;\nexports.isEmail = isEmail;\nexports.setEmail = setEmail;\nexports.emailDomain = emailDomain;\nexports.emailLocalPart = emailLocalPart;\n\nvar _trim = require('trim');\n\nvar _trim2 = _interopRequireDefault(_trim);\n\nvar _index = require('./index');\n\nvar _enterprise = require('../connection/enterprise');\n\nvar _i18n = require('../i18n');\n\nvar i18n = _interopRequireWildcard(_i18n);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction validateEmail(str) {\n  return isEmail(str);\n}\n\nfunction isEmail(str) {\n  if (typeof str !== 'string') {\n    return false;\n  }\n\n  var trimmed = (0, _trim2.default)(str);\n  return trimmed.indexOf('@') >= 0 && trimmed.indexOf('.') >= 0 && trimmed.indexOf(' ') === -1;\n}\n\nfunction setEmail(m, str) {\n  return (0, _index.setField)(m, 'email', str, function (str) {\n    var validHRDEMail = (0, _enterprise.isHRDEmailValid)(m, str);\n    return {\n      valid: validateEmail(str) && validHRDEMail,\n      hint: !validHRDEMail ? i18n.html(m, ['error', 'login', 'hrd.not_matching_email']) : undefined\n    };\n  });\n}\n\nfunction emailDomain(str) {\n  if (!isEmail(str)) {\n    return '';\n  }\n\n  return str.split('@')[1].toLowerCase();\n}\n\nfunction emailLocalPart(str) {\n  var domain = emailDomain(str);\n  return domain ? str.slice(0, -1 - domain.length) : str;\n}","map":{"version":3,"sources":["/Users/jacksonmccomas/Documents/Lambda/labs/startup-grant-database-fe/grantly/node_modules/auth0-lock/lib/field/email.js"],"names":["exports","__esModule","validateEmail","isEmail","setEmail","emailDomain","emailLocalPart","_trim","require","_trim2","_interopRequireDefault","_index","_enterprise","_i18n","i18n","_interopRequireWildcard","obj","newObj","key","Object","prototype","hasOwnProperty","call","default","str","trimmed","indexOf","m","setField","validHRDEMail","isHRDEmailValid","valid","hint","html","undefined","split","toLowerCase","domain","slice","length"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\nexports.validateEmail = validateEmail;\nexports.isEmail = isEmail;\nexports.setEmail = setEmail;\nexports.emailDomain = emailDomain;\nexports.emailLocalPart = emailLocalPart;\n\nvar _trim = require('trim');\n\nvar _trim2 = _interopRequireDefault(_trim);\n\nvar _index = require('./index');\n\nvar _enterprise = require('../connection/enterprise');\n\nvar _i18n = require('../i18n');\n\nvar i18n = _interopRequireWildcard(_i18n);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction validateEmail(str) {\n  return isEmail(str);\n}\n\nfunction isEmail(str) {\n  if (typeof str !== 'string') {\n    return false;\n  }\n  var trimmed = (0, _trim2.default)(str);\n  return trimmed.indexOf('@') >= 0 && trimmed.indexOf('.') >= 0 && trimmed.indexOf(' ') === -1;\n}\n\nfunction setEmail(m, str) {\n  return (0, _index.setField)(m, 'email', str, function (str) {\n    var validHRDEMail = (0, _enterprise.isHRDEmailValid)(m, str);\n\n    return {\n      valid: validateEmail(str) && validHRDEMail,\n      hint: !validHRDEMail ? i18n.html(m, ['error', 'login', 'hrd.not_matching_email']) : undefined\n    };\n  });\n}\n\nfunction emailDomain(str) {\n  if (!isEmail(str)) {\n    return '';\n  }\n  return str.split('@')[1].toLowerCase();\n}\n\nfunction emailLocalPart(str) {\n  var domain = emailDomain(str);\n  return domain ? str.slice(0, -1 - domain.length) : str;\n}\n"]},"metadata":{},"sourceType":"script"}