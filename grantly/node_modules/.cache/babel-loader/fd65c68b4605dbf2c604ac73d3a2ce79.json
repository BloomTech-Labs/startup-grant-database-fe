{"ast":null,"code":"var _jsxFileName = \"/Users/jacksonmccomas/Documents/Lambda/labs/startup-grant-database-fe/grantly/src/components/admin/GrantTable.jsx\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { ActionsContext } from \"../../context/ActionsContext\";\nimport { useSelector } from \"react-redux\";\nimport MaterialTable, { FilterRow } from \"material-table\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport moment from \"moment\";\nimport { useAuth0 } from \"../auth0/Auth0Wrapper\"; // Styling\n\nimport TextField from \"@material-ui/core/TextField\";\nimport Paper from \"@material-ui/core/Paper\"; // Components\n\nimport { tableValues } from \"./values/GrantTableValues\";\nimport { EditGrantFunctions } from \"./values/EditGrantFunctions\";\nimport EditForm from \"./EditGrantForm\";\nimport SuggestionForm from \"./SuggestionModal\";\nconst grantTableStyles = makeStyles(theme => ({\n  displayNone: {\n    color: \"#EF7B5C\",\n    fontSize: 40\n  },\n  paper: {\n    margin: \".5em\"\n  },\n  headerStyle: {\n    fontFamily: \"Nunito Sans\",\n    fontSize: \"1em\"\n  }\n}));\nconst tableStyles = {\n  headerStyle: {\n    fontFamily: \"Nunito Sans\",\n    fontSize: \"1em\",\n    color: \"#3A3A3A\",\n    padding: \"1em\",\n    fontWeight: 700,\n    backgroundColor: \"#83D7D1\"\n  }\n};\n\nconst GrantTable = props => {\n  const actions = useContext(ActionsContext);\n  const {\n    token,\n    isModerator,\n    currentUser\n  } = useSelector(state => state.user);\n  const {\n    grants\n  } = useSelector(state => state.grants);\n  const {\n    isAuthenticated\n  } = useAuth0();\n  const style = grantTableStyles();\n  console.log(\"moderator?\", isModerator);\n  useEffect(() => {\n    if (isAuthenticated && currentUser[\"https://founder-grants.com/appdata\"]) {\n      if (currentUser[\"https://founder-grants.com/appdata\"].authorization.roles.find(() => \"Moderator\") === \"Moderator\") {\n        actions.user.isModerator();\n      }\n    }\n  }, [currentUser]);\n  useEffect(() => {\n    isModerator && actions.grants.fetchAdminGrants(token);\n  }, [isModerator]);\n  console.log(\"admin grants\", grants);\n  console.log(\"props\", props);\n  console.log(\"whats going on with fetch grants?\", actions.grants.fetchAdminGrants(token));\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: style.paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(MaterialTable, {\n    title: tableValues.title,\n    columns: tableValues.columns,\n    options: tableStyles,\n    data: grants // editable={{\n    //   onRowAdd: newData =>\n    //     new Promise(resolve => {\n    //       setTimeout(() => {\n    //         resolve();\n    //         let filteredData = Object.assign({}, newData);\n    //         delete filteredData.requests;\n    //         props.postGrants(filteredData, props.currentUser.token);\n    //       }, 600);\n    //     }),\n    //   onRowUpdate: (newData, oldData) =>\n    //     new Promise(resolve => {\n    //       setTimeout(() => {\n    //         resolve();\n    //         if (oldData) {\n    //           let filteredData = Object.assign({}, newData);\n    //           delete filteredData.requests;\n    //           props.putGrants(\n    //             {\n    //               ...filteredData,\n    //               details_last_updated: moment().format(\"YYYY-MM-DD\")\n    //             },\n    //             props.currentUser.token\n    //           );\n    //         }\n    //       }, 600);\n    //     }),\n    //   onRowDelete: oldData =>\n    //     new Promise(resolve => {\n    //       setTimeout(() => {\n    //         resolve();\n    //         if (oldData) {\n    //           delete oldData.requests;\n    //           props.deleteGrants(oldData.id, props.currentUser.token);\n    //         }\n    //       }, 600);\n    //     })\n    // }}\n    // zeroMinWidth\n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  })));\n};\n\nexport default GrantTable;","map":{"version":3,"sources":["/Users/jacksonmccomas/Documents/Lambda/labs/startup-grant-database-fe/grantly/src/components/admin/GrantTable.jsx"],"names":["React","useContext","useEffect","useState","ActionsContext","useSelector","MaterialTable","FilterRow","makeStyles","moment","useAuth0","TextField","Paper","tableValues","EditGrantFunctions","EditForm","SuggestionForm","grantTableStyles","theme","displayNone","color","fontSize","paper","margin","headerStyle","fontFamily","tableStyles","padding","fontWeight","backgroundColor","GrantTable","props","actions","token","isModerator","currentUser","state","user","grants","isAuthenticated","style","console","log","authorization","roles","find","fetchAdminGrants","title","columns"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { ActionsContext } from \"../../context/ActionsContext\";\nimport { useSelector } from \"react-redux\";\nimport MaterialTable, { FilterRow } from \"material-table\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport moment from \"moment\";\nimport { useAuth0 } from \"../auth0/Auth0Wrapper\";\n\n// Styling\nimport TextField from \"@material-ui/core/TextField\";\nimport Paper from \"@material-ui/core/Paper\";\n// Components\nimport { tableValues } from \"./values/GrantTableValues\";\nimport { EditGrantFunctions } from \"./values/EditGrantFunctions\";\nimport EditForm from \"./EditGrantForm\";\nimport SuggestionForm from \"./SuggestionModal\";\n\nconst grantTableStyles = makeStyles(theme => ({\n  displayNone: {\n    color: \"#EF7B5C\",\n    fontSize: 40\n  },\n  paper: {\n    margin: \".5em\"\n  },\n  headerStyle: {\n    fontFamily: \"Nunito Sans\",\n    fontSize: \"1em\"\n  }\n}));\n\nconst tableStyles = {\n  headerStyle: {\n    fontFamily: \"Nunito Sans\",\n    fontSize: \"1em\",\n    color: \"#3A3A3A\",\n    padding: \"1em\",\n    fontWeight: 700,\n    backgroundColor: \"#83D7D1\"\n  }\n};\n\nconst GrantTable = props => {\n  const actions = useContext(ActionsContext);\n  const { token, isModerator, currentUser } = useSelector(state => state.user);\n  const { grants } = useSelector(state => state.grants);\n  const { isAuthenticated } = useAuth0();\n\n  const style = grantTableStyles();\n  console.log(\"moderator?\", isModerator);\n\n  useEffect(() => {\n    if (isAuthenticated && currentUser[\"https://founder-grants.com/appdata\"]) {\n      if (\n        currentUser[\n          \"https://founder-grants.com/appdata\"\n        ].authorization.roles.find(() => \"Moderator\") === \"Moderator\"\n      ) {\n        actions.user.isModerator();\n      }\n    }\n  }, [currentUser]);\n\n  useEffect(() => {\n    isModerator && actions.grants.fetchAdminGrants(token);\n  }, [isModerator]);\n\n  console.log(\"admin grants\", grants);\n  console.log(\"props\", props);\n  console.log(\n    \"whats going on with fetch grants?\",\n    actions.grants.fetchAdminGrants(token)\n  );\n\n  return (\n    <React.Fragment>\n      <Paper className={style.paper}>\n        <MaterialTable\n          title={tableValues.title}\n          columns={tableValues.columns}\n          options={tableStyles}\n          data={grants}\n          // editable={{\n          //   onRowAdd: newData =>\n          //     new Promise(resolve => {\n          //       setTimeout(() => {\n          //         resolve();\n          //         let filteredData = Object.assign({}, newData);\n          //         delete filteredData.requests;\n          //         props.postGrants(filteredData, props.currentUser.token);\n          //       }, 600);\n          //     }),\n          //   onRowUpdate: (newData, oldData) =>\n          //     new Promise(resolve => {\n          //       setTimeout(() => {\n          //         resolve();\n          //         if (oldData) {\n          //           let filteredData = Object.assign({}, newData);\n          //           delete filteredData.requests;\n          //           props.putGrants(\n          //             {\n          //               ...filteredData,\n          //               details_last_updated: moment().format(\"YYYY-MM-DD\")\n          //             },\n          //             props.currentUser.token\n          //           );\n          //         }\n          //       }, 600);\n          //     }),\n          //   onRowDelete: oldData =>\n          //     new Promise(resolve => {\n          //       setTimeout(() => {\n          //         resolve();\n          //         if (oldData) {\n          //           delete oldData.requests;\n          //           props.deleteGrants(oldData.id, props.currentUser.token);\n          //         }\n          //       }, 600);\n          //     })\n          // }}\n          // zeroMinWidth\n        />\n      </Paper>\n    </React.Fragment>\n  );\n};\n\nexport default GrantTable;\n"]},"metadata":{},"sourceType":"module"}