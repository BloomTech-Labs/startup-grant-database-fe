{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nexports.load = load;\nexports.preload = preload;\n\nvar _auth0Js = require('auth0-js');\n\nvar _auth0Js2 = _interopRequireDefault(_auth0Js);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nif (!global.Auth0) {\n  global.Auth0 = {};\n}\n\nvar cbs = {};\n\nfunction load(attrs) {\n  var cb = attrs.cb,\n      check = attrs.check,\n      method = attrs.method,\n      url = attrs.url;\n\n  if (!cbs[method]) {\n    cbs[method] = [];\n\n    global.Auth0[method] = function () {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      cbs[method] = cbs[method].filter(function (x) {\n        if (x.check.apply(x, args)) {\n          setTimeout(function () {\n            return x.cb.apply(x, [null].concat(args));\n          }, 0);\n          return false;\n        } else {\n          return true;\n        }\n      });\n    };\n  }\n\n  cbs[method].push({\n    cb: cb,\n    check: check,\n    url: url\n  });\n  var count = cbs[method].reduce(function (r, x) {\n    return r + (x.url === url ? 1 : 0);\n  }, 0);\n  if (count > 1) return;\n  var script = global.document.createElement('script');\n  script.src = url;\n  global.document.getElementsByTagName('head')[0].appendChild(script);\n\n  var handleError = function handleError(err) {\n    cbs[method] = cbs[method].filter(function (x) {\n      if (x.url === url) {\n        setTimeout(function () {\n          return x.cb(err);\n        }, 0);\n        return false;\n      } else {\n        return true;\n      }\n    });\n  };\n\n  var timeoutID = setTimeout(function () {\n    return handleError(new Error(url + ' timed out'));\n  }, 20000);\n  script.addEventListener('load', function () {\n    return clearTimeout(timeoutID);\n  });\n  script.addEventListener('error', function () {\n    clearTimeout(timeoutID);\n    handleError(new Error(url + ' could not be loaded.'));\n  });\n}\n\nfunction preload(_ref) {\n  var method = _ref.method,\n      cb = _ref.cb;\n  global.Auth0[method] = cb;\n}","map":{"version":3,"sources":["/Users/jacksonmccomas/Documents/Lambda/labs/startup-grant-database-fe/grantly/node_modules/auth0-lock/lib/utils/cdn_utils.js"],"names":["exports","__esModule","load","preload","_auth0Js","require","_auth0Js2","_interopRequireDefault","obj","default","global","Auth0","cbs","attrs","cb","check","method","url","_len","arguments","length","args","Array","_key","filter","x","apply","setTimeout","concat","push","count","reduce","r","script","document","createElement","src","getElementsByTagName","appendChild","handleError","err","timeoutID","Error","addEventListener","clearTimeout","_ref"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\nexports.load = load;\nexports.preload = preload;\n\nvar _auth0Js = require('auth0-js');\n\nvar _auth0Js2 = _interopRequireDefault(_auth0Js);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nif (!global.Auth0) {\n  global.Auth0 = {};\n}\n\nvar cbs = {};\n\nfunction load(attrs) {\n  var cb = attrs.cb,\n      check = attrs.check,\n      method = attrs.method,\n      url = attrs.url;\n\n\n  if (!cbs[method]) {\n    cbs[method] = [];\n    global.Auth0[method] = function () {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      cbs[method] = cbs[method].filter(function (x) {\n        if (x.check.apply(x, args)) {\n          setTimeout(function () {\n            return x.cb.apply(x, [null].concat(args));\n          }, 0);\n          return false;\n        } else {\n          return true;\n        }\n      });\n    };\n  }\n\n  cbs[method].push({ cb: cb, check: check, url: url });\n\n  var count = cbs[method].reduce(function (r, x) {\n    return r + (x.url === url ? 1 : 0);\n  }, 0);\n\n  if (count > 1) return;\n\n  var script = global.document.createElement('script');\n  script.src = url;\n  global.document.getElementsByTagName('head')[0].appendChild(script);\n\n  var handleError = function handleError(err) {\n    cbs[method] = cbs[method].filter(function (x) {\n      if (x.url === url) {\n        setTimeout(function () {\n          return x.cb(err);\n        }, 0);\n        return false;\n      } else {\n        return true;\n      }\n    });\n  };\n\n  var timeoutID = setTimeout(function () {\n    return handleError(new Error(url + ' timed out'));\n  }, 20000);\n\n  script.addEventListener('load', function () {\n    return clearTimeout(timeoutID);\n  });\n\n  script.addEventListener('error', function () {\n    clearTimeout(timeoutID);\n    handleError(new Error(url + ' could not be loaded.'));\n  });\n}\n\nfunction preload(_ref) {\n  var method = _ref.method,\n      cb = _ref.cb;\n\n  global.Auth0[method] = cb;\n}\n"]},"metadata":{},"sourceType":"script"}