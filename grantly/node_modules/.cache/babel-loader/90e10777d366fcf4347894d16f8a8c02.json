{"ast":null,"code":"var _jsxFileName = \"/Users/jacksonmccomas/Documents/Lambda/labs/startup-grant-database-fe/grantly/src/components/admin/GrantTable.jsx\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { ActionsContext } from \"../../context/ActionsContext\";\nimport { useSelector } from \"react-redux\";\nimport MaterialTable, { FilterRow } from \"material-table\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport moment from \"moment\"; // Styling\n\nimport TextField from \"@material-ui/core/TextField\";\nimport Paper from \"@material-ui/core/Paper\"; // Components\n\nimport { tableValues } from \"./values/GrantTableValues\";\nimport { EditGrantFunctions } from \"./values/EditGrantFunctions\";\nimport EditForm from \"./EditGrantForm\";\nimport SuggestionForm from \"./SuggestionModal\";\nconst grantTableStyles = makeStyles(theme => ({\n  displayNone: {\n    color: \"#EF7B5C\",\n    fontSize: 40\n  },\n  paper: {\n    margin: \".5em\"\n  },\n  headerStyle: {\n    fontFamily: \"Nunito Sans\",\n    fontSize: \"1em\"\n  }\n}));\nconst tableStyles = {\n  headerStyle: {\n    fontFamily: \"Nunito Sans\",\n    fontSize: \"1em\",\n    color: \"#3A3A3A\",\n    padding: \"1em\",\n    fontWeight: 700,\n    backgroundColor: \"#83D7D1\"\n  }\n};\n\nconst GrantTable = props => {\n  const actions = useContext(ActionsContext);\n  const {\n    token,\n    isModerator\n  } = useSelector(state => state.user);\n  const {\n    adminGrants\n  } = useSelector(state => state.grants.fetchAdminGrants());\n  const style = grantTableStyles();\n  useEffect(() => {\n    isModerator && actions.grants.fetchAdminGrants(token);\n  }, [isModerator]);\n  console.log(\"admin grants\", adminGrants);\n  console.log(\"props\", props);\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: style.paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(MaterialTable, {\n    title: tableValues.title,\n    columns: tableValues.columns,\n    options: tableStyles,\n    data: adminGrants,\n    editable: {\n      onRowAdd: newData => new Promise(resolve => {\n        setTimeout(() => {\n          resolve();\n          let filteredData = Object.assign({}, newData);\n          delete filteredData.requests;\n          props.postGrants(filteredData, props.currentUser.token);\n        }, 600);\n      }),\n      onRowUpdate: (newData, oldData) => new Promise(resolve => {\n        setTimeout(() => {\n          resolve();\n\n          if (oldData) {\n            let filteredData = Object.assign({}, newData);\n            delete filteredData.requests;\n            props.putGrants({ ...filteredData,\n              details_last_updated: moment().format(\"YYYY-MM-DD\")\n            }, props.currentUser.token);\n          }\n        }, 600);\n      }),\n      onRowDelete: oldData => new Promise(resolve => {\n        setTimeout(() => {\n          resolve();\n\n          if (oldData) {\n            delete oldData.requests;\n            props.deleteGrants(oldData.id, props.currentUser.token);\n          }\n        }, 600);\n      })\n    },\n    zeroMinWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  })));\n};\n\nexport default GrantTable;","map":{"version":3,"sources":["/Users/jacksonmccomas/Documents/Lambda/labs/startup-grant-database-fe/grantly/src/components/admin/GrantTable.jsx"],"names":["React","useContext","useEffect","useState","ActionsContext","useSelector","MaterialTable","FilterRow","makeStyles","moment","TextField","Paper","tableValues","EditGrantFunctions","EditForm","SuggestionForm","grantTableStyles","theme","displayNone","color","fontSize","paper","margin","headerStyle","fontFamily","tableStyles","padding","fontWeight","backgroundColor","GrantTable","props","actions","token","isModerator","state","user","adminGrants","grants","fetchAdminGrants","style","console","log","title","columns","onRowAdd","newData","Promise","resolve","setTimeout","filteredData","Object","assign","requests","postGrants","currentUser","onRowUpdate","oldData","putGrants","details_last_updated","format","onRowDelete","deleteGrants","id"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { ActionsContext } from \"../../context/ActionsContext\";\nimport { useSelector } from \"react-redux\";\nimport MaterialTable, { FilterRow } from \"material-table\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport moment from \"moment\";\n\n// Styling\nimport TextField from \"@material-ui/core/TextField\";\nimport Paper from \"@material-ui/core/Paper\";\n// Components\nimport { tableValues } from \"./values/GrantTableValues\";\nimport { EditGrantFunctions } from \"./values/EditGrantFunctions\";\nimport EditForm from \"./EditGrantForm\";\nimport SuggestionForm from \"./SuggestionModal\";\n\nconst grantTableStyles = makeStyles(theme => ({\n  displayNone: {\n    color: \"#EF7B5C\",\n    fontSize: 40\n  },\n  paper: {\n    margin: \".5em\"\n  },\n  headerStyle: {\n    fontFamily: \"Nunito Sans\",\n    fontSize: \"1em\"\n  }\n}));\n\nconst tableStyles = {\n  headerStyle: {\n    fontFamily: \"Nunito Sans\",\n    fontSize: \"1em\",\n    color: \"#3A3A3A\",\n    padding: \"1em\",\n    fontWeight: 700,\n    backgroundColor: \"#83D7D1\"\n  }\n};\n\nconst GrantTable = props => {\n  const actions = useContext(ActionsContext);\n  const { token, isModerator } = useSelector(state => state.user);\n  const { adminGrants } = useSelector(state => state.grants.fetchAdminGrants());\n\n  const style = grantTableStyles();\n\n  useEffect(() => {\n    isModerator && actions.grants.fetchAdminGrants(token);\n  }, [isModerator]);\n\n  console.log(\"admin grants\", adminGrants);\n  console.log(\"props\", props);\n\n  return (\n    <React.Fragment>\n      <Paper className={style.paper}>\n        <MaterialTable\n          title={tableValues.title}\n          columns={tableValues.columns}\n          options={tableStyles}\n          data={adminGrants}\n          editable={{\n            onRowAdd: newData =>\n              new Promise(resolve => {\n                setTimeout(() => {\n                  resolve();\n                  let filteredData = Object.assign({}, newData);\n                  delete filteredData.requests;\n                  props.postGrants(filteredData, props.currentUser.token);\n                }, 600);\n              }),\n            onRowUpdate: (newData, oldData) =>\n              new Promise(resolve => {\n                setTimeout(() => {\n                  resolve();\n                  if (oldData) {\n                    let filteredData = Object.assign({}, newData);\n                    delete filteredData.requests;\n                    props.putGrants(\n                      {\n                        ...filteredData,\n                        details_last_updated: moment().format(\"YYYY-MM-DD\")\n                      },\n                      props.currentUser.token\n                    );\n                  }\n                }, 600);\n              }),\n            onRowDelete: oldData =>\n              new Promise(resolve => {\n                setTimeout(() => {\n                  resolve();\n                  if (oldData) {\n                    delete oldData.requests;\n                    props.deleteGrants(oldData.id, props.currentUser.token);\n                  }\n                }, 600);\n              })\n          }}\n          zeroMinWidth\n        />\n      </Paper>\n    </React.Fragment>\n  );\n};\n\nexport default GrantTable;\n"]},"metadata":{},"sourceType":"module"}