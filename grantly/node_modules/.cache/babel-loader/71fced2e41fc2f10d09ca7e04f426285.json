{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _CSSCore = require('../../CSSCore');\n\nvar _CSSCore2 = _interopRequireDefault(_CSSCore);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar Slider = function (_React$Component) {\n  _inherits(Slider, _React$Component);\n\n  function Slider(props) {\n    _classCallCheck(this, Slider);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _this.state = {\n      children: {\n        current: props.children\n      }\n    };\n    return _this;\n  }\n\n  Slider.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    // TODO: take a prop to identify what are we rendering instead of\n    // infering it from children keys so we can accept more than one\n    // child (we are already wrapping them).\n    if (this.state.children.current.key != nextProps.children.key) {\n      this.setState({\n        children: {\n          current: nextProps.children,\n          prev: this.state.children.current\n        },\n        transitionName: this.props.transitionName\n      });\n      this.animate = true;\n    } else if (!this.timeout) {\n      this.setState({\n        children: {\n          current: nextProps.children\n        },\n        transitionName: nextProps.transitionName\n      });\n    }\n  };\n\n  Slider.prototype.componentDidUpdate = function componentDidUpdate() {\n    var _this2 = this;\n\n    if (this.animate) {\n      this.animate = false;\n      var transitionName = this.state.transitionName;\n      var _state$children = this.state.children,\n          current = _state$children.current,\n          prev = _state$children.prev;\n      var reverse = this.props.reverse;\n      var currentComponent = this.refs[current.key];\n      var prevComponent = this.refs[prev.key];\n\n      var transition = function transition(component, className, delay) {\n        // eslint-disable-next-line\n        var node = _reactDom2.default.findDOMNode(component);\n\n        var activeClassName = className + '-active';\n\n        _CSSCore2.default.addClass(node, className);\n\n        setTimeout(function () {\n          return _CSSCore2.default.addClass(node, activeClassName);\n        }, 17);\n\n        if (delay) {\n          setTimeout(function () {\n            _CSSCore2.default.removeClass(node, className);\n\n            _CSSCore2.default.removeClass(node, activeClassName);\n          }, delay);\n        }\n      };\n\n      var callback = function callback(slide) {\n        currentComponent.componentWillSlideIn(slide);\n        var classNamePrefix = reverse ? 'reverse-' : '';\n        transition(currentComponent, '' + classNamePrefix + transitionName + '-enter', _this2.props.delay);\n        transition(prevComponent, '' + classNamePrefix + transitionName + '-exit');\n        _this2.timeout = setTimeout(function () {\n          var _context;\n\n          _this2.setState({\n            children: {\n              current: _this2.state.children.current\n            },\n            transitionName: _this2.props.transitionName\n          });\n\n          currentComponent.componentDidSlideIn((_context = _this2.props).onDidAppear.bind(_context));\n\n          _this2.props.onDidSlide();\n\n          _this2.timeout = null;\n        }, _this2.props.delay);\n      };\n\n      this.props.onWillSlide();\n      prevComponent.componentWillSlideOut(callback);\n    }\n  };\n\n  Slider.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.timeout) clearTimeout(this.timeout);\n  };\n\n  Slider.prototype.render = function render() {\n    var _state$children2 = this.state.children,\n        current = _state$children2.current,\n        prev = _state$children2.prev;\n    var children = prev ? [current, prev] : [current];\n    var childrenToRender = children.map(function (child) {\n      return _react2.default.cloneElement(_react2.default.createElement(Child, {}, child), {\n        ref: child.key,\n        key: child.key\n      });\n    });\n    return _react2.default.createElement(this.props.component, {}, childrenToRender);\n  };\n\n  return Slider;\n}(_react2.default.Component);\n\nexports.default = Slider;\nSlider.propTypes = {\n  children: _propTypes2.default.node.isRequired,\n  component: _propTypes2.default.string,\n  delay: _propTypes2.default.number.isRequired,\n  onDidAppear: _propTypes2.default.func.isRequired,\n  onDidSlide: _propTypes2.default.func.isRequired,\n  onWillSlide: _propTypes2.default.func.isRequired,\n  reverse: _propTypes2.default.bool.isRequired,\n  transitionName: _propTypes2.default.string.isRequired\n};\nSlider.defaultProps = {\n  component: 'span',\n  onDidAppear: function onDidAppear() {},\n  onDidSlide: function onDidSlide() {},\n  onWillSlide: function onWillSlide() {},\n  reverse: false\n};\n\nvar Child = function (_React$Component2) {\n  _inherits(Child, _React$Component2);\n\n  function Child(props) {\n    _classCallCheck(this, Child);\n\n    var _this3 = _possibleConstructorReturn(this, _React$Component2.call(this, props));\n\n    _this3.state = {\n      height: '',\n      originalHeight: '',\n      show: true\n    };\n    return _this3;\n  }\n\n  Child.prototype.componentWillSlideIn = function componentWillSlideIn(slide) {\n    this.setState({\n      height: slide.height,\n      originalHeight: parseInt(window.getComputedStyle(this.node, null).height, 10),\n      show: false\n    });\n  };\n\n  Child.prototype.componentDidSlideIn = function componentDidSlideIn(cb) {\n    var _this4 = this;\n\n    var _state = this.state,\n        height = _state.height,\n        originalHeight = _state.originalHeight;\n\n    if (height === originalHeight) {\n      this.setState({\n        show: true,\n        height: ''\n      });\n      cb();\n    } else {\n      this.cb = cb;\n      var frames = 10;\n      var count = 0;\n      var current = height;\n      var last = originalHeight;\n      var step = Math.abs(current - last) / frames;\n      var dir = current < last ? 1 : -1;\n      var dh = step * dir; // TODO: rAF\n\n      this.t = setInterval(function () {\n        if (count < frames - 1) {\n          _this4.setState({\n            height: current,\n            animating: true\n          });\n\n          current += dh;\n          count++;\n        } else {\n          clearInterval(_this4.t);\n          delete _this4.t;\n\n          _this4.setState({\n            height: '',\n            show: true\n          });\n\n          _this4.cb();\n        }\n      }, 17);\n    }\n  };\n\n  Child.prototype.componentWillSlideOut = function componentWillSlideOut(cb) {\n    var size = window.getComputedStyle(this.node, null).height;\n    cb({\n      height: parseInt(size, 10),\n      reverse: this.reverse\n    });\n  };\n\n  Child.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.t) {\n      clearInterval(this.t);\n      this.cb();\n    }\n  };\n\n  Child.prototype.render = function render() {\n    var _this5 = this;\n\n    var children = this.props.children;\n    var _state2 = this.state,\n        height = _state2.height,\n        show = _state2.show;\n    return _react2.default.createElement('div', {\n      ref: function ref(node) {\n        return _this5.node = node;\n      },\n      style: height ? {\n        height: height + 'px'\n      } : {}\n    }, _react2.default.createElement('div', {\n      style: {\n        visibility: show ? 'inherit' : 'hidden'\n      }\n    }, children));\n  };\n\n  return Child;\n}(_react2.default.Component);\n\nChild.propTypes = {\n  children: _propTypes2.default.node.isRequired\n};","map":{"version":3,"sources":["/Users/jacksonmccomas/Documents/Lambda/labs/startup-grant-database-fe/grantly/node_modules/auth0-lock/lib/ui/box/multisize_slide.js"],"names":["exports","__esModule","_propTypes","require","_propTypes2","_interopRequireDefault","_react","_react2","_reactDom","_reactDom2","_CSSCore","_CSSCore2","obj","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","Slider","_React$Component","props","_this","state","children","current","componentWillReceiveProps","nextProps","key","setState","prev","transitionName","animate","timeout","componentDidUpdate","_this2","_state$children","reverse","currentComponent","refs","prevComponent","transition","component","className","delay","node","findDOMNode","activeClassName","addClass","setTimeout","removeClass","callback","slide","componentWillSlideIn","classNamePrefix","_context","componentDidSlideIn","onDidAppear","bind","onDidSlide","onWillSlide","componentWillSlideOut","componentWillUnmount","clearTimeout","render","_state$children2","childrenToRender","map","child","cloneElement","createElement","Child","ref","Component","propTypes","isRequired","string","number","func","bool","defaultProps","_React$Component2","_this3","height","originalHeight","show","parseInt","window","getComputedStyle","cb","_this4","_state","frames","count","last","step","Math","abs","dir","dh","t","setInterval","animating","clearInterval","size","_this5","_state2","style","visibility"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _CSSCore = require('../../CSSCore');\n\nvar _CSSCore2 = _interopRequireDefault(_CSSCore);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Slider = function (_React$Component) {\n  _inherits(Slider, _React$Component);\n\n  function Slider(props) {\n    _classCallCheck(this, Slider);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _this.state = { children: { current: props.children } };\n    return _this;\n  }\n\n  Slider.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    // TODO: take a prop to identify what are we rendering instead of\n    // infering it from children keys so we can accept more than one\n    // child (we are already wrapping them).\n    if (this.state.children.current.key != nextProps.children.key) {\n      this.setState({\n        children: {\n          current: nextProps.children,\n          prev: this.state.children.current\n        },\n        transitionName: this.props.transitionName\n      });\n      this.animate = true;\n    } else if (!this.timeout) {\n      this.setState({\n        children: { current: nextProps.children },\n        transitionName: nextProps.transitionName\n      });\n    }\n  };\n\n  Slider.prototype.componentDidUpdate = function componentDidUpdate() {\n    var _this2 = this;\n\n    if (this.animate) {\n      this.animate = false;\n\n      var transitionName = this.state.transitionName;\n      var _state$children = this.state.children,\n          current = _state$children.current,\n          prev = _state$children.prev;\n      var reverse = this.props.reverse;\n\n      var currentComponent = this.refs[current.key];\n      var prevComponent = this.refs[prev.key];\n\n      var transition = function transition(component, className, delay) {\n        // eslint-disable-next-line\n        var node = _reactDom2.default.findDOMNode(component);\n        var activeClassName = className + '-active';\n\n        _CSSCore2.default.addClass(node, className);\n\n        setTimeout(function () {\n          return _CSSCore2.default.addClass(node, activeClassName);\n        }, 17);\n\n        if (delay) {\n          setTimeout(function () {\n            _CSSCore2.default.removeClass(node, className);\n            _CSSCore2.default.removeClass(node, activeClassName);\n          }, delay);\n        }\n      };\n\n      var callback = function callback(slide) {\n        currentComponent.componentWillSlideIn(slide);\n        var classNamePrefix = reverse ? 'reverse-' : '';\n        transition(currentComponent, '' + classNamePrefix + transitionName + '-enter', _this2.props.delay);\n        transition(prevComponent, '' + classNamePrefix + transitionName + '-exit');\n\n        _this2.timeout = setTimeout(function () {\n          var _context;\n\n          _this2.setState({\n            children: { current: _this2.state.children.current },\n            transitionName: _this2.props.transitionName\n          });\n          currentComponent.componentDidSlideIn((_context = _this2.props).onDidAppear.bind(_context));\n          _this2.props.onDidSlide();\n          _this2.timeout = null;\n        }, _this2.props.delay);\n      };\n\n      this.props.onWillSlide();\n      prevComponent.componentWillSlideOut(callback);\n    }\n  };\n\n  Slider.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.timeout) clearTimeout(this.timeout);\n  };\n\n  Slider.prototype.render = function render() {\n    var _state$children2 = this.state.children,\n        current = _state$children2.current,\n        prev = _state$children2.prev;\n\n    var children = prev ? [current, prev] : [current];\n    var childrenToRender = children.map(function (child) {\n      return _react2.default.cloneElement(_react2.default.createElement(Child, {}, child), {\n        ref: child.key,\n        key: child.key\n      });\n    });\n\n    return _react2.default.createElement(this.props.component, {}, childrenToRender);\n  };\n\n  return Slider;\n}(_react2.default.Component);\n\nexports.default = Slider;\n\n\nSlider.propTypes = {\n  children: _propTypes2.default.node.isRequired,\n  component: _propTypes2.default.string,\n  delay: _propTypes2.default.number.isRequired,\n  onDidAppear: _propTypes2.default.func.isRequired,\n  onDidSlide: _propTypes2.default.func.isRequired,\n  onWillSlide: _propTypes2.default.func.isRequired,\n  reverse: _propTypes2.default.bool.isRequired,\n  transitionName: _propTypes2.default.string.isRequired\n};\n\nSlider.defaultProps = {\n  component: 'span',\n  onDidAppear: function onDidAppear() {},\n  onDidSlide: function onDidSlide() {},\n  onWillSlide: function onWillSlide() {},\n  reverse: false\n};\n\nvar Child = function (_React$Component2) {\n  _inherits(Child, _React$Component2);\n\n  function Child(props) {\n    _classCallCheck(this, Child);\n\n    var _this3 = _possibleConstructorReturn(this, _React$Component2.call(this, props));\n\n    _this3.state = { height: '', originalHeight: '', show: true };\n    return _this3;\n  }\n\n  Child.prototype.componentWillSlideIn = function componentWillSlideIn(slide) {\n    this.setState({\n      height: slide.height,\n      originalHeight: parseInt(window.getComputedStyle(this.node, null).height, 10),\n      show: false\n    });\n  };\n\n  Child.prototype.componentDidSlideIn = function componentDidSlideIn(cb) {\n    var _this4 = this;\n\n    var _state = this.state,\n        height = _state.height,\n        originalHeight = _state.originalHeight;\n\n\n    if (height === originalHeight) {\n      this.setState({ show: true, height: '' });\n      cb();\n    } else {\n      this.cb = cb;\n      var frames = 10;\n      var count = 0;\n      var current = height;\n      var last = originalHeight;\n      var step = Math.abs(current - last) / frames;\n      var dir = current < last ? 1 : -1;\n      var dh = step * dir;\n\n      // TODO: rAF\n      this.t = setInterval(function () {\n        if (count < frames - 1) {\n          _this4.setState({ height: current, animating: true });\n          current += dh;\n          count++;\n        } else {\n          clearInterval(_this4.t);\n          delete _this4.t;\n          _this4.setState({ height: '', show: true });\n          _this4.cb();\n        }\n      }, 17);\n    }\n  };\n\n  Child.prototype.componentWillSlideOut = function componentWillSlideOut(cb) {\n    var size = window.getComputedStyle(this.node, null).height;\n    cb({ height: parseInt(size, 10), reverse: this.reverse });\n  };\n\n  Child.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.t) {\n      clearInterval(this.t);\n      this.cb();\n    }\n  };\n\n  Child.prototype.render = function render() {\n    var _this5 = this;\n\n    var children = this.props.children;\n    var _state2 = this.state,\n        height = _state2.height,\n        show = _state2.show;\n\n\n    return _react2.default.createElement(\n      'div',\n      { ref: function ref(node) {\n          return _this5.node = node;\n        }, style: height ? { height: height + 'px' } : {} },\n      _react2.default.createElement(\n        'div',\n        { style: { visibility: show ? 'inherit' : 'hidden' } },\n        children\n      )\n    );\n  };\n\n  return Child;\n}(_react2.default.Component);\n\nChild.propTypes = {\n  children: _propTypes2.default.node.isRequired\n};\n"]},"metadata":{},"sourceType":"script"}