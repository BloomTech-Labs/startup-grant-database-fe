{"ast":null,"code":"import * as tslib_1 from \"tslib\";\nimport { addGlobalEventProcessor, getCurrentHub } from '@sentry/core';\nimport { getGlobalObject } from '@sentry/utils';\nvar global = getGlobalObject();\n/** UserAgent */\n\nvar UserAgent =\n/** @class */\nfunction () {\n  function UserAgent() {\n    /**\n     * @inheritDoc\n     */\n    this.name = UserAgent.id;\n  }\n  /**\n   * @inheritDoc\n   */\n\n\n  UserAgent.prototype.setupOnce = function () {\n    addGlobalEventProcessor(function (event) {\n      if (getCurrentHub().getIntegration(UserAgent)) {\n        if (!global.navigator || !global.location) {\n          return event;\n        } // Request Interface: https://docs.sentry.io/development/sdk-dev/event-payloads/request/\n\n\n        var request = event.request || {};\n        request.url = request.url || global.location.href;\n        request.headers = request.headers || {};\n        request.headers['User-Agent'] = global.navigator.userAgent;\n        return tslib_1.__assign({}, event, {\n          request: request\n        });\n      }\n\n      return event;\n    });\n  };\n  /**\n   * @inheritDoc\n   */\n\n\n  UserAgent.id = 'UserAgent';\n  return UserAgent;\n}();\n\nexport { UserAgent };","map":{"version":3,"sources":["../../src/integrations/useragent.ts"],"names":[],"mappings":";AAAA,SAAS,uBAAT,EAAkC,aAAlC,QAAuD,cAAvD;AAEA,SAAS,eAAT,QAAgC,eAAhC;AAEA,IAAM,MAAM,GAAG,eAAe,EAA9B;AAEA;;AACA,IAAA,SAAA;AAAA;AAAA,YAAA;AAAA,WAAA,SAAA,GAAA;AACE;;;AAGO,SAAA,IAAA,GAAe,SAAS,CAAC,EAAzB;AA+BR;AAxBC;;;;;AAGO,EAAA,SAAA,CAAA,SAAA,CAAA,SAAA,GAAP,YAAA;AACE,IAAA,uBAAuB,CAAC,UAAC,KAAD,EAAa;AACnC,UAAI,aAAa,GAAG,cAAhB,CAA+B,SAA/B,CAAJ,EAA+C;AAC7C,YAAI,CAAC,MAAM,CAAC,SAAR,IAAqB,CAAC,MAAM,CAAC,QAAjC,EAA2C;AACzC,iBAAO,KAAP;AACD,SAH4C,CAK7C;;;AACA,YAAM,OAAO,GAAG,KAAK,CAAC,OAAN,IAAiB,EAAjC;AACA,QAAA,OAAO,CAAC,GAAR,GAAc,OAAO,CAAC,GAAR,IAAe,MAAM,CAAC,QAAP,CAAgB,IAA7C;AACA,QAAA,OAAO,CAAC,OAAR,GAAkB,OAAO,CAAC,OAAR,IAAmB,EAArC;AACA,QAAA,OAAO,CAAC,OAAR,CAAgB,YAAhB,IAAgC,MAAM,CAAC,SAAP,CAAiB,SAAjD;AAEA,eAAA,OAAA,CAAA,QAAA,CAAA,EAAA,EACK,KADL,EACU;AACR,UAAA,OAAO,EAAA;AADC,SADV,CAAA;AAID;;AACD,aAAO,KAAP;AACD,KAlBsB,CAAvB;AAmBD,GApBM;AARP;;;;;AAGc,EAAA,SAAA,CAAA,EAAA,GAAa,WAAb;AA0BhB,SAAA,SAAA;AAAC,CAnCD,EAAA;;SAAa,S","sourcesContent":["import { addGlobalEventProcessor, getCurrentHub } from '@sentry/core';\nimport { Event, Integration } from '@sentry/types';\nimport { getGlobalObject } from '@sentry/utils';\n\nconst global = getGlobalObject<Window>();\n\n/** UserAgent */\nexport class UserAgent implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public name: string = UserAgent.id;\n\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'UserAgent';\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(): void {\n    addGlobalEventProcessor((event: Event) => {\n      if (getCurrentHub().getIntegration(UserAgent)) {\n        if (!global.navigator || !global.location) {\n          return event;\n        }\n\n        // Request Interface: https://docs.sentry.io/development/sdk-dev/event-payloads/request/\n        const request = event.request || {};\n        request.url = request.url || global.location.href;\n        request.headers = request.headers || {};\n        request.headers['User-Agent'] = global.navigator.userAgent;\n\n        return {\n          ...event,\n          request,\n        };\n      }\n      return event;\n    });\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}